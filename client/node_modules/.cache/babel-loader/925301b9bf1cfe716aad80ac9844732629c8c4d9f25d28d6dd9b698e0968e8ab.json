{"ast":null,"code":"import React from\"react\";import axios from'axios';import styles from\"./RegisterFormSection.module.css\";import{useRef,useState}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FormSection(){const nameRef=useRef();const emailRef=useRef();const mobileRef=useRef();const passRef=useRef();const[errorMsg,setErrorMsg]=useState();const navigate=useNavigate();return/*#__PURE__*/_jsxs(\"div\",{className:styles.formSection,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:styles.backButton,children:\"Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.formHeading,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create an account\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Your personal job finder is here\"})]}),errorMsg&&/*#__PURE__*/_jsx(\"div\",{className:styles.errorMessage,children:errorMsg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:async e=>{e.preventDefault();let res=await axios.post(process.env.REACT_APP_BASE_URL+'/register',{name:nameRef.current.value,email:emailRef.current.value,mobile:mobileRef.current.value,password:passRef.current.value});switch(res.data.status){case 200:localStorage.setItem('data',JSON.stringify({name:res.data.name,jwtToken:res.data.jwtToken}));navigate('/');break;case 403:setErrorMsg('User with this email already exist. Please login');break;default:setErrorMsg('Something went wrong, Please Try again later');}},className:styles.registerForm,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Name\",type:\"text\",required:true,name:\"name\",ref:nameRef}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",type:\"email\",required:true,name:\"email\",ref:emailRef}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Mobile\",type:\"number\",required:true,name:\"mobile\",ref:mobileRef}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",type:\"password\",required:true,name:\"password\",ref:passRef}),/*#__PURE__*/_jsx(\"button\",{className:styles.createAccountButton,type:\"submit\",children:\"Create Account\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"u\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"./login\",children:\"Sign in\"})})})]})]});}","map":{"version":3,"names":["React","axios","styles","useRef","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","FormSection","nameRef","emailRef","mobileRef","passRef","errorMsg","setErrorMsg","navigate","className","formSection","children","onClick","backButton","formHeading","errorMessage","onSubmit","e","preventDefault","res","post","process","env","REACT_APP_BASE_URL","name","current","value","email","mobile","password","data","status","localStorage","setItem","JSON","stringify","jwtToken","registerForm","placeholder","type","required","ref","createAccountButton","href"],"sources":["C:/Users/jenad/OneDrive/Desktop/Job_Listing/Job_Listing/client/src/components/register/form_section/RegisterFormSection.jsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\nimport styles from \"./RegisterFormSection.module.css\";\r\n\r\nimport { useRef, useState } from \"react\";\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n\r\nexport default function FormSection() {\r\n  const nameRef = useRef();\r\n  const emailRef = useRef();\r\n  const mobileRef = useRef();\r\n  const passRef = useRef();\r\n  const [errorMsg, setErrorMsg] = useState();\r\n\r\n  const navigate = useNavigate(); \r\n\r\n  return (\r\n    <div className={styles.formSection}>\r\n      <button onClick={() => navigate(-1)} className={styles.backButton}>Back</button>\r\n      <div className={styles.formHeading}>\r\n        <h1>Create an account</h1>\r\n        <span>Your personal job finder is here</span>\r\n      </div>\r\n\r\n      {errorMsg && <div className={styles.errorMessage}>{errorMsg}</div>}\r\n\r\n      <form onSubmit={ async (e) => {\r\n        e.preventDefault()\r\n        let res = await axios.post(process.env.REACT_APP_BASE_URL + '/register', {\r\n          name: nameRef.current.value,\r\n          email: emailRef.current.value,\r\n          mobile: mobileRef.current.value,\r\n          password: passRef.current.value\r\n        })\r\n\r\n        switch(res.data.status){\r\n          case 200:\r\n            localStorage.setItem('data', JSON.stringify({name: res.data.name, jwtToken: res.data.jwtToken}));\r\n            navigate('/');\r\n            break;\r\n          case 403:\r\n              setErrorMsg('User with this email already exist. Please login')\r\n              break;\r\n          default:\r\n            setErrorMsg('Something went wrong, Please Try again later')\r\n         }\r\n          \r\n      }} className={styles.registerForm}>\r\n        <input placeholder=\"Name\" type=\"text\" required name=\"name\" ref={nameRef} />\r\n        <input placeholder=\"Email\" type=\"email\" required name=\"email\" ref={emailRef} />\r\n        <input placeholder=\"Mobile\" type=\"number\" required name=\"mobile\" ref={mobileRef} />\r\n        <input placeholder=\"Password\" type=\"password\" required name=\"password\" ref={passRef}/>\r\n        <button className={styles.createAccountButton} type=\"submit\">Create Account</button>\r\n      </form>\r\n      <div>Already have an account? <b><u><a href=\"./login\">Sign in</a></u></b></div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}